<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Video Speed Scrubber</title>
		<link rel="stylesheet" href="style.css" />
		<link rel="icon" href="https://fav.farm/ðŸ”¥" />
	</head>
	<body>
		<div class="wrapper">
			<video class="flex" width="765" height="430" src="http://clips.vorwaerts-gmbh.de/VfE_html5.mp4" loop controls></video>
			<div class="speed">
				<div class="speed-bar">1Ã—</div>
			</div>
		</div>

		<script>
			const speed = document.querySelector(".speed")
			const speedBar = document.querySelector(".speed-bar")
			const video = document.querySelector("video")

			function handleMove(e) {
				const { offsetHeight: height, offsetTop: top } = this

				const speedPercentage = (e.pageY - top) / height
				const min = 0.4
				const max = 4

				const speedPercentageFormatted = (min + speedPercentage * (max - min)).toFixed(2)

				speedBar.textContent = `${speedPercentageFormatted}Ã—`
				speedBar.style.height = `${speedPercentage * 100}%`

				video.playbackRate = speedPercentageFormatted
			}

			speed.addEventListener("mousemove", handleMove)
		</script>
	</body>
</html>
